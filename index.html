<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Map of Student Aid</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
            background-color: #f9f9f9;
        }

        h1 {
            text-align: center;
            margin: 15px 0;
            font-size: 1.8em;
        }

        .container {
            display: flex;
            flex-grow: 1;
            width: 100%;
            gap: 10px;
            padding: 10px;
        }

        .map-container {
            flex: 2;
            position: relative;
            height: 100%;
            width: 100%;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        #map {
            height: 100%;
            width: 100%;
        }

        .description {
            width: 30%;
            padding: 20px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        h2, h3 {
            margin: 0;
            padding-bottom: 5px;
        }

        label {
            font-weight: bold;
        }

        textarea, select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            resize: none;
            font-size: 1em;
        }

        textarea {
            min-height: 50px;
        }

        /* Mobile-friendly */
        @media screen and (max-width: 768px) {
            .container {
                flex-direction: column;
                gap: 15px;
            }

            .description {
                width: 100%;
            }

            .map-container {
                height: 400px;
            }
        }
    </style>
</head>
<body>
    <h1>Interactive Map of Student Aid</h1>

    <div class="container">
        <div class="map-container">
            <div id="map"></div>
        </div>

        <div class="description">
            <h2>Description of the Map</h2>
            <p style="text-align: justify;">
                This interactive map is based on the 2020 data from the Student Support and Fees Dataset (SSFD), initiated by the Swedish Institute for Social Research.
                <br><br>
                To ensure comparability of student support and fee systems across countries and over time, SSFD data is built on detailed model family analyses, similar to the entitlement levels data in other SPIN modules.
                <br><br> 
                The baseline model family consists of two married parents, aged 40, and two children aged 7 and 20.
                <br><br>
                The SSFD data has been adjusted for inflation and converted into USD using the 2020 Implied PPP conversion rate (National currency per international dollar) from the International Monetary Fund.
            </p>

            <h3 id="country-name"></h3>

            <label for="descriptionVariable">Variable Description:</label>
            <div id="descriptionVariable" style="border: 1px solid #ccc; padding: 10px; margin-top: 10px;">
                Select a variable to view its description
            </div>

            <label for="variableSelection">Variable Selection:</label>
            <select id="variableSelection"></select>
            <textarea id="variableValeur" rows="4" cols="30" readonly></textarea>

            <!-- üìå Ajout de l'encadr√© pour afficher les donn√©es des d√©ciles -->
            <div id="quantile-data" style="border: 1px solid #ccc; padding: 10px; margin-top: 10px;">
                <h3>Income Decile Classification</h3>
                <p id="family1">Family 1: Data not available</p>
                <p id="family2">Family 2: Data not available</p>
                <p id="family3">Family 3: Data not available</p>
            </div>

            <!-- Bibliographie -->
            <div class="bibliography">
                <h3>Bibliography</h3>
                <p>Sources used for data and analysis: :</p>
                <ul>
                    <li><a href="https://www.su.se/polopoly_fs/1.766793.1727450484!/menu/standard/file/SSFD%20Documentation%20240927.pdf" target="_blank"> Nelson, K., Fredriksson, D., Korpi, T., Korpi, W., Palme, J. and O. Sj√∂berg. 2020. The Social Policy Indicators (SPIN) database. International Journal of Social Welfare, 29(3), 285-289. https://doi.org/10.1111/ijsw.12418. </a></li>
                    <li><a href="https://www.imf.org/external/datamapper/PPPEX@WEO/OEMDC" target="_blank">International Monetary Fund (IMF) - PPP Conversion Rates</a></li>
                </ul>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="script.js"></script>
</body>
</html>
